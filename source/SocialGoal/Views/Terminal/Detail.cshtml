@{
    ViewBag.Title = "终端详细信息";
    Layout = "../Shared/_LayoutFlattyMain.cshtml";
}
@section styles{
    <link href="~/Content/assets/map.Default.css" rel="stylesheet" />
}
<div class='row' id='content-wrapper'>
    <div class='col-xs-12'>
        <div class='row'>
            <div class='col-sm-12'>
                <div class='page-header'>
                    <h1 class='pull-left'>
                        <i class='icon-user'></i>
                        <span>终端详细信息</span>
                    </h1>
                    <div class='pull-right'>
                        <ul class='breadcrumb'>
                            <li>
                                <a href='index.html'>
                                    <i class='icon-bar-chart'></i>
                                </a>
                            </li>
                            <li class='separator'>
                                <i class='icon-angle-right'></i>
                            </li>
                            <li>Example pages</li>
                            <li class='separator'>
                                <i class='icon-angle-right'></i>
                            </li>
                            <li class='active'>User profile</li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
        <div class="row" ng-controller="TerminalCtrl">
            <div class='col-sm-12 box' style='margin-bottom: 0'>
                <div class='box-header blue-background'>
                    <div class='title'>数据信息</div>
                    <div class='actions'>
                        <a class="btn box-remove btn-xs btn-link" href="#">
                            <i class='icon-remove'></i>
                        </a>

                        <a class="btn box-collapse btn-xs btn-link" href="#">
                            <i></i>
                        </a>
                    </div>
                </div>
                <div class='box-content'>
                    <div class='tabbable'>
                        <ul class='nav nav-tabs nav-tabs-simple'>
                            <li class='active'>
                                <a class='green-border' data-toggle='tab' href='#tabsimple1'>
                                    <i class='icon-indent-left'></i>
                                    车况一览
                                </a>
                            </li>
                            <li>
                                <a data-toggle='tab' href='#tabsimple2'>
                                    <i class='icon-edit text-red'></i>
                                    报警
                                </a>
                            </li>
                        </ul>
                        <div class='tab-content'>
                            <div class='tab-pane active' id='tabsimple1'>
                                <div class="row">
                                    <div class='col-sm-6'>
                                        <div class='box box-nomargin'>
                                            <div class='box-header'>
                                                <div class='title'>档案信息</div>
                                                <div class='actions'>
                                                    <span class='label label-success'>
                                                        31%
                                                        <i class='icon-arrow-up'></i>
                                                    </span>
                                                </div>
                                            </div>
                                            <div class='box-content'>
                                                <table class='table' style='margin-bottom:5px;'>
                                                    <thead>
                                                        <tr>
                                                            <th>
                                                                Name
                                                            </th>
                                                            <th>
                                                                E-mail
                                                            </th>
                                                            <th>
                                                                Status
                                                            </th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>Zelma Langosh</td>
                                                            <td>berta@hotmail.com</td>
                                                            <td>
                                                                <span class='label label-important'>Important</span>
                                                            </td>
                                                            <td>
                                                                <div class='text-right'>
                                                                    <a class='btn btn-success btn-xs' href='#'>
                                                                        <i class='icon-ok'></i>
                                                                    </a>
                                                                    <a class='btn btn-danger btn-xs' href='#'>
                                                                        <i class='icon-remove'></i>
                                                                    </a>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Jackson Yundt</td>
                                                            <td>seth@yahoo.com</td>
                                                            <td>
                                                                <span class='label label-success'>Success</span>
                                                            </td>
                                                            <td>
                                                                <div class='text-right'>
                                                                    <a class='btn btn-success btn-xs' href='#'>
                                                                        <i class='icon-ok'></i>
                                                                    </a>
                                                                    <a class='btn btn-danger btn-xs' href='#'>
                                                                        <i class='icon-remove'></i>
                                                                    </a>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Rey Fadel</td>
                                                            <td>macey@yahoo.com</td>
                                                            <td>
                                                                <span class='label label-warning'>Warning</span>
                                                            </td>
                                                            <td>
                                                                <div class='text-right'>
                                                                    <a class='btn btn-success btn-xs' href='#'>
                                                                        <i class='icon-ok'></i>
                                                                    </a>
                                                                    <a class='btn btn-danger btn-xs' href='#'>
                                                                        <i class='icon-remove'></i>
                                                                    </a>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Jaquelin Koelpin</td>
                                                            <td>celia@hotmail.com</td>
                                                            <td>
                                                                <span class='label label-success'>Success</span>
                                                            </td>
                                                            <td>
                                                                <div class='text-right'>
                                                                    <a class='btn btn-success btn-xs' href='#'>
                                                                        <i class='icon-ok'></i>
                                                                    </a>
                                                                    <a class='btn btn-danger btn-xs' href='#'>
                                                                        <i class='icon-remove'></i>
                                                                    </a>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class='col-sm-6'>
                                        <div class='box'>
                                            <div class='box-header'>
                                                <div class='title'>
                                                    <i class='icon-dashboard'></i>
                                                    工况信息
                                                </div>
                                            </div>
                                            <div class='row'>
                                                <div class='col-sm-6'>
                                                    <div class='box-content box-statistic text-right'>
                                                        <h3 class='title text-error'>9100</h3>
                                                        <small>Unique</small>
                                                        <div class='text-error icon-user align-left'></div>
                                                    </div>
                                                    <div class='box-content box-statistic text-right'>
                                                        <h3 class='title text-warning'>41 000</h3>
                                                        <small>Pageviews</small>
                                                        <div class='text-warning icon-book align-left'></div>
                                                    </div>
                                                    <div class='box-content box-statistic text-right'>
                                                        <h3 class='title text-primary'>12:21</h3>
                                                        <small>最后更新时间</small>
                                                        <div class='text-primary icon-time align-left'></div>
                                                    </div>
                                                </div>
                                                <div class='col-sm-6'>
                                                    <div class='box-content box-statistic red-background'>
                                                        <h3 class='title text-primary'>3</h3>
                                                        <small>Shipped</small>
                                                        <div class='text-primary icon-truck align-right'></div>
                                                    </div>
                                                    <div class='box-content box-statistic green-background'>
                                                        <h3 class='title text-success'>981</h3>
                                                        <small>Completed</small>
                                                        <div class='text-success icon-flag align-right'></div>
                                                    </div>
                                                    <div class='box-content box-statistic muted-background'>
                                                        <h3 class='title text-muted'>0</h3>
                                                        <small>Canceled</small>
                                                        <div class='text-muted icon-remove align-right'></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class='col-sm-12'>
                                        <div class='box box-nomargin'>
                                            <div class='box-header'>
                                                <div class='title'><i class="icon-book"></i>详细工况信息</div>
                                                <div class='actions'>
                                                    <a class="btn box-remove btn-xs btn-link" href="#">
                                                        <i class='icon-remove'></i>
                                                    </a>

                                                    <a class="btn box-collapse btn-xs btn-link" href="#">
                                                        <i></i>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class='box-content'>
                                                <ul class='list-unstyled list-inline'>
                                                    <li class="text-success">
                                                        <i class='icon-tag'></i>
                                                        Lorem ipsum
                                                    </li>
                                                    <li>
                                                        <i class='icon-circle-blank'></i>
                                                        Lorem ipsum
                                                    </li>
                                                    <li>
                                                        <i class='icon-barcode'></i>
                                                        Lorem ipsum
                                                    </li>
                                                    <li>
                                                        <i class='icon-tag'></i>
                                                        Lorem ipsum
                                                    </li>
                                                    <li>
                                                        <i class='icon-circle-blank'></i>
                                                        Lorem ipsum
                                                    </li>
                                                    <li>
                                                        <i class='icon-barcode'></i>
                                                        Lorem ipsum
                                                    </li>
                                                    <li>
                                                        <i class='icon-tag'></i>
                                                        Lorem ipsum
                                                    </li>
                                                    <li>
                                                        <i class='icon-circle-blank'></i>
                                                        Lorem ipsum
                                                    </li>
                                                    <li>
                                                        <i class='icon-barcode'></i>
                                                        Lorem ipsum
                                                    </li>
                                                    <li>
                                                        <i class='icon-tag'></i>
                                                        Lorem ipsum
                                                    </li>
                                                    <li>
                                                        <i class='icon-circle-blank'></i>
                                                        Lorem ipsum
                                                    </li>
                                                    <li>
                                                        <i class='icon-barcode'></i>
                                                        Lorem ipsum
                                                    </li>
                                                    <li>
                                                        <i class='icon-tag'></i>
                                                        Lorem ipsum
                                                    </li>
                                                    <li>
                                                        <i class='icon-circle-blank'></i>
                                                        Lorem ipsum
                                                    </li>
                                                    <li>
                                                        <i class='icon-barcode'></i>
                                                        Lorem ipsum
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class='tab-pane' id='tabsimple2'>
                                <p>Howdy, I'm in Section 2.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <hr class="hr-double">
        <div class="row">
            <div class='col-sm-12 box'>
                <div class='box-header blue-background'>
                    <div class='title'>地图展示</div>
                    <div class='actions'>
                        <a class="btn box-remove btn-xs btn-link" href="#">
                            <i class='icon-remove'></i>
                        </a>

                        <a class="btn box-collapse btn-xs btn-link" href="#">
                            <i></i>
                        </a>
                    </div>
                </div>
                <div class='box-content'>
                    <div id="iCenter"></div>
                    <div style="padding:2px 0px 0px 5px;font-size:12px">
                        <input type="button" value="开始动画" onclick="startAnimation()" />
                        <input type="button" value="停止动画" onclick="stopAnimation()" />
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
@section scripts{
    <script src="~/Scripts/AngularCtrlJs/ProtocolManageJs.js"></script>
    <script language="javascript" src="http://webapi.amap.com/maps?v=1.3&key=1e6cbdf39e0bfc6505e7a1b4f7c4bad3"></script>
    <script language="javascript">
        var mapObj, marker;
        $(function () {
            mapInit();
        });

        //初始化地图对象，加载地图
        function mapInit() {
            mapObj = new AMap.Map("iCenter", {
                //二维地图显示视口
                view: new AMap.View2D({
                    center: new AMap.LngLat(116.397428, 39.90923),//地图中心点
                    zoom: 17 //地图显示的缩放级别
                }),
                continuousZoomEnable: false
            });
            AMap.event.addListener(mapObj, "complete", completeEventHandler);
        }

        //地图图块加载完毕后执行函数
        function completeEventHandler() {
            marker = new AMap.Marker({
                map: mapObj,
                //draggable:true, //是否可拖动
                position: new AMap.LngLat(116.397428, 39.90923),//基点位置
                icon: "http://code.mapabc.com/images/car_03.png", //marker图标，直接传递地址url
                offset: new AMap.Pixel(-26, -13), //相对于基点的位置
                autoRotation: true
            });

            var lngX = 116.397428;
            var latY = 39.90923;
            lineArr = new Array();
            lineArr.push(new AMap.LngLat(lngX, latY));
            for (var i = 1; i < 3; i++) {
                lngX = lngX + Math.random() * 0.05;
                if (i % 2) {
                    latY = latY + Math.random() * 0.0001;
                } else {
                    latY = latY + Math.random() * 0.06;
                }
                lineArr.push(new AMap.LngLat(lngX, latY));
            }
            //绘制轨迹
            var polyline = new AMap.Polyline({
                map: mapObj,
                path: lineArr,
                strokeColor: "#00A",//线颜色
                strokeOpacity: 1,//线透明度
                strokeWeight: 3,//线宽
                strokeStyle: "solid"//线样式
            });
            mapObj.setFitView();
        }
        function startAnimation() {
            marker.moveAlong(lineArr, 500);
        }
        function stopAnimation() {
            marker.stopMove();
        }
    </script>
}
